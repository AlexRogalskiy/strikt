package strikt.internal.opentest4j

import org.opentest4j.AssertionFailedError
import strikt.api.Status.Failed
import strikt.internal.AssertionResult
import strikt.internal.reporting.writeToString

internal class AtomicAssertionFailure(
  private val failure: AssertionResult<*>
) : AssertionFailedError(
  null,
  failure.expected,
  (failure.status as? Failed)?.actual,
  (failure.status as? Failed)?.cause
) {
  override val message: String?
    get() = failure.root.writeToString()
}
